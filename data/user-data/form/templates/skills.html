{% extends 'base.html' %} {% block title %}Skills & Expertise - AI Artisan
Resume Builder{% endblock %} {% block progress %}
<div class="progress-container">
  <div class="progress" style="height: 30px">
    <div
      class="progress-bar bg-primary"
      role="progressbar"
      style="width: 50%"
      aria-valuenow="50"
      aria-valuemin="0"
      aria-valuemax="100"
    >
      50%
    </div>
  </div>
  <div class="text-center mt-2">
    <small>Step 4 of 8: Skills & Expertise</small>
  </div>
</div>
{% endblock %} {% block content %}
<div class="row justify-content-center">
  <div class="col-md-8">
    <div class="form-container">
      <h2 class="section-title">Skills & Expertise</h2>

      <form method="post">
        {% for display_name, key in categories %}
        <div class="skill-category mb-4">
          <h4>{{ display_name }}</h4>
          <div id="{{ key }}-container" class="skill-items-container">
            {% if data.get(key) %} {% for skill in data.get(key) %}
            <div class="item-card skill-item">
              <div class="row">
                <div class="col-md-6">
                  <div class="form-group">
                    <label class="form-label">Name</label>
                    <input
                      type="text"
                      class="form-control"
                      name="{{ key }}_name"
                      value="{{ skill.get('name', skill) if skill is mapping else skill }}"
                    />
                  </div>
                </div>
                <div class="col-md-5">
                  <div class="form-group">
                    <label class="form-label">Proficiency (Optional)</label>
                    <input
                      type="text"
                      class="form-control"
                      name="{{ key }}_proficiency"
                      value="{{ skill.get('proficiency', '') if skill is mapping else '' }}"
                    />
                  </div>
                </div>
                <div
                  class="col-md-1 d-flex align-items-end justify-content-center"
                >
                  <button
                    type="button"
                    class="btn btn-sm btn-outline-danger remove-skill"
                  >
                    ×
                  </button>
                </div>
              </div>
            </div>
            {% endfor %} {% endif %}
          </div>
          <button
            type="button"
            class="btn btn-sm btn-outline-secondary add-skill"
            data-category="{{ key }}"
          >
            <i class="bi bi-plus-circle"></i> Add {{ display_name[:-1] if
            display_name.endswith('s') else display_name }}
          </button>
        </div>
        {% endfor %}

        <div class="action-buttons">
          <a
            href="{{ url_for('professional_summary') }}"
            class="btn btn-secondary"
            >Back</a
          >
          <button type="submit" class="btn btn-primary">Next</button>
        </div>
      </form>
    </div>
  </div>
</div>
{% endblock %} {% block extra_js %}
<script>
  $(document).ready(function () {
    // Add new skill
    $(".add-skill").click(function () {
      const category = $(this).data("category");
      const newSkill = `
                <div class="item-card skill-item">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label class="form-label">Name</label>
                                <input type="text" class="form-control" name="${category}_name">
                            </div>
                        </div>
                        <div class="col-md-5">
                            <div class="form-group">
                                <label class="form-label">Proficiency (Optional)</label>
                                <input type="text" class="form-control" name="${category}_proficiency">
                            </div>
                        </div>
                        <div class="col-md-1 d-flex align-items-end justify-content-center">
                            <button type="button" class="btn btn-sm btn-outline-danger remove-skill">×</button>
                        </div>
                    </div>
                </div>
            `;

      $(`#${category}-container`).append(newSkill);
    });

    // Remove skill
    $(document).on("click", ".remove-skill", function () {
      $(this).closest(".skill-item").remove();
    });
  });
</script>
{% endblock %}
